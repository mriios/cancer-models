(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[804],{7882:function(e,a,t){"use strict";var n=t(5893);a.Z=()=>(0,n.jsx)(n.Fragment,{})},4434:function(e,a,t){"use strict";t.d(a,{Z:function(){return Input_InputAndLabel}});var n=t(5893),Input_Input=e=>{var a;let t={"data-hj-allow":!0,name:e.name,id:null!==(a=e.id)&&void 0!==a?a:e.name,placeholder:e.placeholder,className:e.className,value:e.value,onChange:a=>{e.onChange&&e.onChange(a)},ref:e.inputRef&&e.inputRef,required:e.required,checked:e.checked,defaultChecked:e.defaultChecked};return"textarea"===e.type?(0,n.jsx)("textarea",{...t}):(0,n.jsx)("input",{type:e.type,...t})},o=t(4351),l=t.n(o),c=t(9287),Input_InputAndLabel=e=>{var a,t;let o=e.name,r=e.type,i="radio"===r||"checkbox"===r?l()["InputAndLabel-alt"]:"search"===r?l()["InputAndLabel-search"]:"",s=null!==(a=e.className)&&void 0!==a?a:"";return(0,n.jsxs)("div",{className:"".concat(i," ").concat(s).trim(),children:[(0,n.jsx)(c.Z,{forId:null!==(t=e.id)&&void 0!==t?t:o,name:e.name,label:e.label,className:e.labelClassName}),(0,n.jsx)(Input_Input,{name:o,type:r,placeholder:e.placeholder,className:e.inputClassName,onChange:a=>e.onChange&&e.onChange(a),value:e.value,checked:e.checked,defaultChecked:e.defaultChecked,id:e.id,inputRef:e.inputRef&&e.inputRef,required:e.required,"data-hj-allow":e.hjAllow}),"search"===r?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("button",{children:"O"})}):null]})}},8299:function(e,a,t){"use strict";t.r(a),t.d(a,{ReactSelectInput:function(){return ReactSelectInput}});var n=t(5893),o=t(1163),l=t(7294),c=t(8767),r=t(5350),i=t(4670),s=t(7603),d=t(1352),u=t(6627),p=t(7882),h=t(9287),m=t(5706);let ReactSelectInput=e=>(0,n.jsx)(r.c.Input,{...e,"data-hj-allow":!0});a.default=e=>{var a,t;let{id:r,name:f,isMulti:v,onFilterChange:I,selection:g}=e,b=(0,o.useRouter)(),[x,_]=(0,l.useState)(),[j,C,k]=(0,d.Z)("",350),N=(0,c.useQuery)(j,()=>(0,s.NN)("search_terms",j),{onSuccess(e){_(e)},enabled:!!j});(0,l.useEffect)(()=>{_(N.data)},[N.data]);let S=(0,m.x)(null!==(t=null==g?void 0:null===(a=g.search_terms)||void 0===a?void 0:a.selection)&&void 0!==t?t:[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,{className:"mb-0 text-white",label:"Search by cancer diagnosis",forId:r,name:f}),(0,n.jsx)(i.ZP,{isLoading:N.isLoading,instanceId:r,id:r,value:S,inputId:r+"select",name:f,"aria-label":"Search by cancer diagnosis","aria-labelledby":r,className:"lh-1",closeMenuOnSelect:v,blurInputOnSelect:v,isMulti:v,placeholder:"e.g. Melanoma",loadingMessage:()=>"Loading data",noOptionsMessage:()=>"Type to search",styles:u.Z,components:{DropdownIndicator:p.Z,Input:ReactSelectInput},options:C!==j?[]:x,onInputChange:e=>{k(e)},onChange:(e,a)=>{if("pop-value"===a.action)return;let t="",n="add";if(e&&!v)b.push({pathname:"search",search:"?filters=search_terms:".concat(e.value)});else{switch(a.action){case"remove-value":t=a.removedValue.value,n="remove";break;case"select-option":t=a.option.value;break;case"clear":n="clear"}I&&I("search_terms",t,"",n)}}})]})}},5706:function(e,a,t){"use strict";t.d(a,{Z:function(){return SearchFilters_SearchFilterContent},x:function(){return selectOptions}});var n=t(5893),o=t(4670),l=t(5596),c=t(6627),r=t(6330),i=t(8175),s=t.n(i),InformationIcon_InformationIcon=e=>{let{information:a}=e;return(0,n.jsx)(r.Z,{className:"d-inline-block ml-1",content:(0,n.jsx)("p",{className:"text-small m-0",style:{width:"max-content",maxWidth:"300px"},children:a}),children:(0,n.jsx)("span",{className:"".concat(s().InformationIcon," d-inline-block text-center br-round"),children:"i"})})},d=t(4434),u=t(8299),p=t(7294),h=t(8767),m=t(7603),f=t(1352),v=t(7882),I=(0,p.memo)(e=>{let{facet:a,defaultValues:t,onFilterChange:l,operator:r}=e,[i,s]=(0,p.useState)(),[d,I,g]=(0,f.Z)("",350),b=(0,h.useQuery)([a.facetId,d],()=>(0,m.NN)(a.facetId,d),{onSuccess(e){s(e)},enabled:""!==d});(0,p.useEffect)(()=>{s(b.data)},[b.data]);let x=a.placeholder?"Eg. ".concat(a.placeholder):"Select...";return(0,n.jsx)(o.ZP,{closeMenuOnSelect:!0,blurInputOnSelect:!0,isMulti:!0,defaultValue:t,value:t,placeholder:x,options:I!==d?[]:i,onInputChange:e=>g(e),onFocus:()=>{s([])},isLoading:b.isLoading,loadingMessage:()=>"Loading data",noOptionsMessage:()=>"Type to search",onChange:(e,t)=>{if("pop-value"===t.action)return;let n="",o="add";switch(t.action){case"remove-value":n=t.removedValue.value,o="remove";break;case"select-option":n=t.option.value;break;case"clear":o="clear"}l(a.facetId,n,r,o)},styles:c.Z,components:{DropdownIndicator:v.Z,Input:u.ReactSelectInput}})});let selectOptions=e=>null==e?void 0:e.map(e=>({label:e,value:e}));var SearchFilters_SearchFilterContent=e=>(0,n.jsx)(n.Fragment,{children:e.data.map(a=>{let t=null,r=a.name,i=a.type,s=a.options,p=a.isBoolean,h=e.facetSelection&&e.facetSelection[a.facetId],m=null==h?void 0:h.selection,f=null==h?void 0:h.operator,v=selectOptions(m);if("autocomplete"===i||"multivalued"===i)t=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I,{facet:a,defaultValues:v,onFilterChange:e.onFilterChange,operator:f}),"multivalued"===i&&(0,n.jsxs)("fieldset",{className:"d-flex border-none m-0",children:[(0,n.jsx)("legend",{className:"hideElement-accessible",children:"Contains:"}),(0,n.jsx)(d.Z,{forId:"any-".concat(a.facetId),className:"mr-3",type:"radio",name:"operator-".concat(a.facetId),id:"any-".concat(a.facetId),label:"Or",value:"any",defaultChecked:"ANY"===f,onChange:()=>e.onFilterChange(a.facetId,"","ANY","toggleOperator")}),(0,n.jsx)(d.Z,{type:"radio",name:"operator-".concat(a.facetId),forId:"all-".concat(a.facetId),id:"all-".concat(a.facetId),label:"And",value:"all",defaultChecked:"ALL"===f,onChange:()=>e.onFilterChange(a.facetId,"","ALL","toggleOperator")})]})]});else if("check"===i&&(null!=s?s:[]).length>=10){let r="patient_ethnicity"!==a.facetId?selectOptions(s):selectOptions(Object.keys(l.jm));t=(0,n.jsx)(o.ZP,{closeMenuOnSelect:!0,blurInputOnSelect:!0,isMulti:!0,defaultValue:v,value:v,options:r,onChange:(t,n)=>{if("pop-value"===n.action)return;let o="",l="add";switch(n.action){case"remove-value":o=n.removedValue.value,l="remove";break;case"select-option":o=n.option.value;break;case"clear":l="clear"}e.onFilterChange(a.facetId,o,f,l)},styles:c.Z,components:{Input:u.ReactSelectInput}})}else"check"===i&&(t=(0,n.jsx)("ul",{className:"ul-noStyle m-0",children:null==s?void 0:s.map(t=>{let o=p?t.split("=")[0]:t,l=p?t.split("=")[1]:t;return(0,n.jsx)("li",{children:(0,n.jsx)(d.Z,{"data-hj-allow":!0,forId:o,id:o,name:"".concat(o,"-name"),type:"checkbox",label:o,checked:null==m?void 0:m.includes(l),onChange:t=>{let n=t.target,o=n.checked?"add":"remove";e.onFilterChange(a.facetId,l,f,o)}})},o)})}));return(0,n.jsxs)("div",{className:"w-100",children:[(0,n.jsx)("h3",{className:"mb-0 p text-bold d-inline-block text-capitalize",children:r}),a.description&&(0,n.jsx)(InformationIcon_InformationIcon,{information:a.description}),(0,n.jsx)("hr",{}),(0,n.jsx)("span",{className:"text-capitalize",children:t})]},r)})})},6330:function(e,a,t){"use strict";var n=t(5893),o=t(7294),l=t(8398),c=t(5311),r=t.n(c);a.Z=e=>{var a;let[t,c]=(0,o.useState)(!1);return(0,n.jsx)("div",{className:"".concat(null!==(a=e.className)&&void 0!==a?a:""," ").concat(r().Tooltip),children:(0,n.jsxs)("div",{onMouseOver:()=>c(!0),onMouseLeave:()=>c(!1),className:"w-min pr-2 position-md-relative",children:[t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:r().Tooltip_content,children:e.content}),(0,n.jsx)(l.Z,{className:r().Tooltip_arrow})]}),(0,n.jsx)("span",{className:r().Tooltip_children,children:e.children})]})})}},1352:function(e,a,t){"use strict";var n=t(7294);a.Z=(e,a)=>{let[t,o]=(0,n.useState)(e),[l,c]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let e=setTimeout(()=>{c(t)},a);return()=>{clearTimeout(e)}},[t,a]),[l,t,o]}},6627:function(e,a){"use strict";a.Z={control:e=>({...e,borderColor:"#47938a",borderRadius:0,fontSize:"100%",transition:"0.3s","&:hover":{borderColor:"#47938a",background:"#d4f0fb",color:"#fff",cursor:"pointer"}}),input:e=>({...e,marginTop:0,marginBottom:0}),multiValueLabel:e=>({...e,backgroundColor:"#003e48",color:"#fff",borderTopRightRadius:0,borderBottomRightRadius:0}),multiValueRemove:e=>({...e,backgroundColor:"#47938a",color:"#fff",borderTopLeftRadius:0,borderBottomLeftRadius:0,"&:hover":{borderColor:"#003e48",background:"#47938a",color:"#fff",cursor:"pointer"}}),valueContainer:e=>({...e,lineHeight:1,padding:"0.7rem 0.8rem"}),indicatorSeparator:e=>({...e,backgroundColor:"#fff",display:"none"}),indicatorsContainer:e=>({...e,backgroundColor:"transparent",color:"#fff",padding:0,"&:hover":{color:"#fff"}}),dropdownIndicator:e=>({...e,backgroundColor:"#e9b114",color:"#000",padding:"1.1rem",height:"100%",alignItems:"center","&:hover":{color:"#000"}}),clearIndicator:e=>({...e,backgroundColor:"#ffe6a6",color:"#000",padding:0,height:"100%",alignItems:"center","&:hover":{color:"#000"}}),option:e=>({...e,lineHeight:1})}},8175:function(e){e.exports={InformationIcon:"InformationIcon_InformationIcon__0Xf2s"}},4351:function(e){e.exports={"InputAndLabel-alt":"InputAndLabel_InputAndLabel-alt___HBm1","InputAndLabel-search":"InputAndLabel_InputAndLabel-search__GvLzv"}},5311:function(e){e.exports={Tooltip:"Tooltip_Tooltip__NGDQV",Tooltip_content:"Tooltip_Tooltip_content__3oVKG",Tooltip_arrow:"Tooltip_Tooltip_arrow__7Y9xV",Tooltip_children:"Tooltip_Tooltip_children__o5YLo"}}}]);